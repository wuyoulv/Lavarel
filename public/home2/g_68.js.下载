/**
 * @modified $Author: 牟少峰 $
 * @version $Rev: 70252b192d1170e224952de545858d5c33ab3c27 $
 */
!function($,require,define){require.config({enable_ozma:true});define("tui/chuda",[],function(){var e={Cookie:{set:function(e,t,i,n,r){var a="";if(i&&"number"==typeof i){var o=new Date;o.setTime(o.getTime()+1e3*60*60*24*i);a="; expires="+o.toGMTString()}var n=n||"/";var r=r||".youku.com";document.cookie=[e,"=",t,a,";domain=",r,";path=",n].join("")},get:function(e){var t=e+"=",i=document.cookie?document.cookie.split("; "):[];for(var n=0;n<i.length;n++){var r=i[n];while(" "==r.charAt(0))r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null},remove:function(e){this.set(e,"",-1)}},Common:{decodeBase64:function(e){if(!e)return"";var t="ABCDEFGHIJKLMNOP"+"QRSTUVWXYZabcdef"+"ghijklmnopqrstuv"+"wxyz0123456789+/"+"=";var i="",n,r,a,o,s,l,u=0,d;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{o=t.indexOf(e.charAt(u++));s=t.indexOf(e.charAt(u++));l=t.indexOf(e.charAt(u++));d=t.indexOf(e.charAt(u++));n=o<<2|s>>4;r=(15&s)<<4|l>>2;a=(3&l)<<6|d;i+=String.fromCharCode(n);if(64!=l)i+=String.fromCharCode(r);if(64!=d)i+=String.fromCharCode(a)}while(u<e.length);return this.utf8To16(i)},encode64:function(e){if(!e)return"";e=e.toString();var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var i=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);var n,r,a;var o,s,l;a=e.length;r=0;n="";while(r<a){o=255&e.charCodeAt(r++);if(r===a){n+=t.charAt(o>>2);n+=t.charAt((3&o)<<4);n+="==";break}s=e.charCodeAt(r++);if(r===a){n+=t.charAt(o>>2);n+=t.charAt((3&o)<<4|(240&s)>>4);n+=t.charAt((15&s)<<2);n+="=";break}l=e.charCodeAt(r++);n+=t.charAt(o>>2);n+=t.charAt((3&o)<<4|(240&s)>>4);n+=t.charAt((15&s)<<2|(192&l)>>6);n+=t.charAt(63&l)}return n},utf8To16:function(e){var t,i,n;var r,a;var o=[];i=e.length;t=0;while(t<i){n=e.charCodeAt(t++);switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o.push(e.charAt(t-1));break;case 12:case 13:r=e.charCodeAt(t++);o.push(String.fromCharCode((31&n)<<6|63&r));break;case 14:r=e.charCodeAt(t++);a=e.charCodeAt(t++);o.push(String.fromCharCode((15&n)<<12|(63&r)<<6|(63&a)<<0))}}return o.join("")},cutStr:function(e,t,i){var e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;");var n=this._strLen(e);if(n<=t)return e;else{var r=0;var o=0;str_cut=new String;o=e.length;for(var s=0;s<o;s++){r++;a=e.charAt(s);if(escape(a).length>4)r++;if(r>t){if(i)str_cut=str_cut.concat(i);return str_cut}str_cut=str_cut.concat(a)}}},_strLen:function(e){if(!e)return 0;var t=0;var i=0;i=e.length;for(var n=0;n<i;n++){t++;a=e.charAt(n);if(escape(a).length>4)t++}return t},serialize:function(e){return JSON.stringify(e)},deserialize:function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},getBrowser:function(){var e={};var t=navigator.userAgent.toLowerCase();var i;(i=t.match(/rv:([\d.]+)\) like gecko/))?e.ie=i[1]:(i=t.match(/msie ([\d.]+)/))?e.ie=i[1]:(i=t.match(/firefox\/([\d.]+)/))?e.firefox=i[1]:(i=t.match(/chrome\/([\d.]+)/))?e.chrome=i[1]:(i=t.match(/opera.([\d.]+)/))?e.opera=i[1]:(i=t.match(/version\/([\d.]+).*safari/))?e.safari=i[1]:0;return e},bind:function(e,t,i){if(e.attachEvent)e.attachEvent("on"+t,function(){return function(t){window.event.cancelBubble=true;e.attachEvent=[i.apply(e)]}}(e),false);else if(e.addEventListener)e.addEventListener(t,function(e){e.stopPropagation();i.apply(this)},false)},Md5:function(e){var t=function(e,t){return e<<t|e>>>32-t};var i=function(e,t){var i,n,r,a,o;r=2147483648&e;a=2147483648&t;i=1073741824&e;n=1073741824&t;o=(1073741823&e)+(1073741823&t);if(i&n)return 2147483648^o^r^a;if(i|n)if(1073741824&o)return 3221225472^o^r^a;else return 1073741824^o^r^a;else return o^r^a};var n=function(e,t,i){return e&t|~e&i};var r=function(e,t,i){return e&i|t&~i};var a=function(e,t,i){return e^t^i};var o=function(e,t,i){return t^(e|~i)};var s=function(e,r,a,o,s,l,u){e=i(e,i(i(n(r,a,o),s),u));return i(t(e,l),r)};var l=function(e,n,a,o,s,l,u){e=i(e,i(i(r(n,a,o),s),u));return i(t(e,l),n)};var u=function(e,n,r,o,s,l,u){e=i(e,i(i(a(n,r,o),s),u));return i(t(e,l),n)};var d=function(e,n,r,a,s,l,u){e=i(e,i(i(o(n,r,a),s),u));return i(t(e,l),n)};var c=function(e){var t;var i=e.length;var n=i+8;var r=(n-n%64)/64;var a=16*(r+1);var o=Array(a-1);var s=0;var l=0;while(l<i){t=(l-l%4)/4;s=8*(l%4);o[t]=o[t]|e.charCodeAt(l)<<s;l++}t=(l-l%4)/4;s=8*(l%4);o[t]=o[t]|128<<s;o[a-2]=i<<3;o[a-1]=i>>>29;return o};var f=function(e){var t="",i="",n,r;for(r=0;r<=3;r++){n=255&e>>>8*r;i="0"+n.toString(16);t+=i.substr(i.length-2,2)}return t};var p=function(e){e=e.replace(/\x0d\x0a/g,"\n");var t="";for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);if(n<128)t+=String.fromCharCode(n);else if(n>127&&n<2048){t+=String.fromCharCode(192|n>>6);t+=String.fromCharCode(128|63&n)}else{t+=String.fromCharCode(224|n>>12);t+=String.fromCharCode(128|63&n>>6);t+=String.fromCharCode(128|63&n)}}return t};var h=Array();var m,v,g,y,_,b,w,k,E;var T=7,x=12,A=17,C=22;var S=5,L=9,P=14,I=20;var D=4,R=11,O=16,M=23;var N=6,U=10,F=15,j=21;e=p(e);h=c(e);b=1732584193;w=4023233417;k=2562383102;E=271733878;for(m=0;m<h.length;m+=16){v=b;g=w;y=k;_=E;b=s(b,w,k,E,h[m+0],T,3614090360);E=s(E,b,w,k,h[m+1],x,3905402710);k=s(k,E,b,w,h[m+2],A,606105819);w=s(w,k,E,b,h[m+3],C,3250441966);b=s(b,w,k,E,h[m+4],T,4118548399);E=s(E,b,w,k,h[m+5],x,1200080426);k=s(k,E,b,w,h[m+6],A,2821735955);w=s(w,k,E,b,h[m+7],C,4249261313);b=s(b,w,k,E,h[m+8],T,1770035416);E=s(E,b,w,k,h[m+9],x,2336552879);k=s(k,E,b,w,h[m+10],A,4294925233);w=s(w,k,E,b,h[m+11],C,2304563134);b=s(b,w,k,E,h[m+12],T,1804603682);E=s(E,b,w,k,h[m+13],x,4254626195);k=s(k,E,b,w,h[m+14],A,2792965006);w=s(w,k,E,b,h[m+15],C,1236535329);b=l(b,w,k,E,h[m+1],S,4129170786);E=l(E,b,w,k,h[m+6],L,3225465664);k=l(k,E,b,w,h[m+11],P,643717713);w=l(w,k,E,b,h[m+0],I,3921069994);b=l(b,w,k,E,h[m+5],S,3593408605);E=l(E,b,w,k,h[m+10],L,38016083);k=l(k,E,b,w,h[m+15],P,3634488961);w=l(w,k,E,b,h[m+4],I,3889429448);b=l(b,w,k,E,h[m+9],S,568446438);E=l(E,b,w,k,h[m+14],L,3275163606);k=l(k,E,b,w,h[m+3],P,4107603335);w=l(w,k,E,b,h[m+8],I,1163531501);b=l(b,w,k,E,h[m+13],S,2850285829);E=l(E,b,w,k,h[m+2],L,4243563512);k=l(k,E,b,w,h[m+7],P,1735328473);w=l(w,k,E,b,h[m+12],I,2368359562);b=u(b,w,k,E,h[m+5],D,4294588738);E=u(E,b,w,k,h[m+8],R,2272392833);k=u(k,E,b,w,h[m+11],O,1839030562);w=u(w,k,E,b,h[m+14],M,4259657740);b=u(b,w,k,E,h[m+1],D,2763975236);E=u(E,b,w,k,h[m+4],R,1272893353);k=u(k,E,b,w,h[m+7],O,4139469664);w=u(w,k,E,b,h[m+10],M,3200236656);b=u(b,w,k,E,h[m+13],D,681279174);E=u(E,b,w,k,h[m+0],R,3936430074);k=u(k,E,b,w,h[m+3],O,3572445317);w=u(w,k,E,b,h[m+6],M,76029189);b=u(b,w,k,E,h[m+9],D,3654602809);E=u(E,b,w,k,h[m+12],R,3873151461);k=u(k,E,b,w,h[m+15],O,530742520);w=u(w,k,E,b,h[m+2],M,3299628645);b=d(b,w,k,E,h[m+0],N,4096336452);E=d(E,b,w,k,h[m+7],U,1126891415);k=d(k,E,b,w,h[m+14],F,2878612391);w=d(w,k,E,b,h[m+5],j,4237533241);b=d(b,w,k,E,h[m+12],N,1700485571);E=d(E,b,w,k,h[m+3],U,2399980690);k=d(k,E,b,w,h[m+10],F,4293915773);w=d(w,k,E,b,h[m+1],j,2240044497);b=d(b,w,k,E,h[m+8],N,1873313359);E=d(E,b,w,k,h[m+15],U,4264355552);k=d(k,E,b,w,h[m+6],F,2734768916);w=d(w,k,E,b,h[m+13],j,1309151649);b=d(b,w,k,E,h[m+4],N,4149444226);E=d(E,b,w,k,h[m+11],U,3174756917);k=d(k,E,b,w,h[m+2],F,718787259);w=d(w,k,E,b,h[m+9],j,3951481745);b=i(b,v);w=i(w,g);k=i(k,y);E=i(E,_)}var B=f(b)+f(w)+f(k)+f(E);return B.toLowerCase()},encodeUid:function(e){if(!e)return"";if(e<<2>0)var t="U"+this.encode64(e<<2);else var t="U"+this.encode64(4*e);return t}},Ajax:{getScript:function(e,t,i){if("string"!=typeof arguments[0])return;var t="function"==typeof arguments[1]?t:function(){};var i="boolean"==typeof arguments[2]?i:false;var n=document.getElementsByTagName("HEAD")[0];var r=document.createElement("SCRIPT");r.type="text/javascript";r.src=e;r.onload=r.onreadystatechange=function(){if(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState){t();r.onload=r.onreadystatechange=null;if(i)this.parentNode.removeChild(this)}};n.appendChild(r)}}};window["CHUDA"]=e;CHUDA.API={getApiSignature:function(e){var t=Math.round((new Date).getTime()/1e3),i=e,n="1001";return"appid="+n+"&ts="+t+"&uid="+i+"&sig="+CHUDA.Common.Md5([n,t,i].join(""))}};return{}});if("object"!==typeof JSON)JSON={};!function(){"use strict";function f(e){return e<10?"0"+e:e}if("function"!==typeof Date.prototype.toJSON){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"===typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,r,a,o=gap,s,l=t[e];if(l&&"object"===typeof l&&"function"===typeof l.toJSON)l=l.toJSON(e);if("function"===typeof rep)l=rep.call(t,e,l);switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";gap+=indent;s=[];if("[object Array]"===Object.prototype.toString.apply(l)){a=l.length;for(i=0;i<a;i+=1)s[i]=str(i,l)||"null";r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]";gap=o;return r}if(rep&&"object"===typeof rep){a=rep.length;for(i=0;i<a;i+=1)if("string"===typeof rep[i]){n=rep[i];r=str(n,l);if(r)s.push(quote(n)+(gap?": ":":")+r)}}else for(n in l)if(Object.prototype.hasOwnProperty.call(l,n)){r=str(n,l);if(r)s.push(quote(n)+(gap?": ":":")+r)}r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}";gap=o;return r}}if("function"!==typeof JSON.stringify)JSON.stringify=function(e,t,i){var n;gap="";indent="";if("number"===typeof i)for(n=0;n<i;n+=1)indent+=" ";else if("string"===typeof i)indent=i;rep=t;if(t&&"function"!==typeof t&&("object"!==typeof t||"number"!==typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})};if("function"!==typeof JSON.parse)JSON.parse=function(text,reviver){var j;function walk(e,t){var i,n,r=e[t];if(r&&"object"===typeof r)for(i in r)if(Object.prototype.hasOwnProperty.call(r,i)){n=walk(r,i);if(void 0!==n)r[i]=n;else delete r[i]}return reviver.call(e,t,r)}text=String(text);cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return"function"===typeof reviver?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}();define("lib/json2",JSON);define("tui/cookie",[],function(){return function(e,t,i,n){if("string"==typeof e){n=i;i=t;t=e;e=window}if(void 0!==i){n=n||{};var r,a="";if(n.expires){if(n.expires.constructor==Date)r=n.expires;else{r=new Date;r.setTime(r.getTime()+1e3*60*60*24*n.expires)}a="; expires="+r.toGMTString()}var o=n.path?"; path="+n.path:"";var s=n.domain?"; domain="+n.domain:"";var l=n.secure?"; secure":"";e.document.cookie=[t,"=",encodeURIComponent(i),a,o,s,l].join("")}else{i=e.document.cookie.match(new RegExp("(?:\\s|^)"+t+"\\=([^;]*)"));return i?decodeURIComponent(i[1]):null}}});define("module/stat/combo-stat",["tui/cookie"],function(e,t,i){if(window.ComboStat)return window.ComboStat;var n={cookie:function(t,i,n){if("undefined"==typeof i)return e(t);var r={domain:"youku.com",path:"/"};if(!n)r.expires=36500;e(t,i,r)},uuid:function(e){e=e||6;var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");var i="";var n=t.length;for(var r=0;r<e;r++){var a=parseInt(Math.random()*Math.pow(10,6))%n;i+=t[a]}return(new Date).getTime()+i},init:function(){var e=this;if(e.pvid)return;var t=e.cookie("ypvid")||"";var i=e.uuid();e.cookie("ypvid",i,true);var n=e.cookie("yseid");var r=1;var a=1;if(!n||(new Date).getTime()>(parseInt(e.cookie("yseidtimeout"))||0)){n=e.uuid();e.cookie("yseid",n,true);e.cookie("ysestep",1);a=parseInt(e.cookie("yseidcount")||0)+1;e.cookie("yseidcount",a)}else{r=parseInt(e.cookie("ysestep")||0)+1;e.cookie("ysestep",r)}var o=(new Date).getTime()+120*6e4;e.cookie("yseidtimeout",o,true);var s=e.cookie("ycid")||"";var l=window.cid||window.config&&window.config.item&&window.config.item.cid||0;e.cookie("ycid",l,true);var u=parseInt(e.cookie("ystep")||0)+1;e.cookie("ystep",u);e.juid=e.cookie("yjuid")||"";e.seid=n;e.pvid=i;e.cid=l;e.referPvid=t;e.referCid=s;e.step=u;e.seStep=r;e.seidTimeout=o;e.seidCount=a;e.isFrame=top.location!=window.location?1:0;e.noCookie=!navigator.cookieEnabled?1:0}};n.init();return n});define("module/domain",[],function(e,t){var i={main:"//www.tudou.com",css:"//css.tudouui.com",js:"//js.tudouui.com",img:"//u"+~~(4*Math.random()+1)+".tdimg.com",youku:"//www.youku.com",passport:"//passport.youku.com",login:"//login.youku.com",vkuplay:"//vku.youku.com/live/play",kudouapi:"//kudouapi.youku.com",zizhuapi:"//consoleapi.live.youku.com",message:"ws://live.message.youku.com:8080/tc/",lilychat:"//live.message.youku.com/lilychat/message",danmu:"//live.comments.tudou.com/dispatcher2/",cmstool:"//cmstool.youku.com/",bigvoyage:"//bigvoyage.youku.com",watchbuy:"//watchandbuy.youku.com",account:"https://account.youku.com"};t.url=t.domain=i});define("tui/random",[],function(e,t){function i(){var e=4022871197;var t=function(t){t=t.toString();for(var i=0;i<t.length;i++){e+=t.charCodeAt(i);var n=.02519603282416938*e;e=n>>>0;n-=e;n*=e;e=n>>>0;n-=e;e+=4294967296*n}return 2.3283064365386963e-10*(e>>>0)};t.version="Mash 0.9";return t}function n(){return function(e){var t=4294967087;var n=4294944443;var r=12345,a=12345,o=123,s=12345,l=12345,u=123;if(0===e.length)e=[+new Date];var d=i();for(var c=0;c<e.length;c++){r+=4294967296*d(e[c]);a+=4294967296*d(e[c]);o+=4294967296*d(e[c]);s+=4294967296*d(e[c]);l+=4294967296*d(e[c]);u+=4294967296*d(e[c])}r%=t;a%=t;o%=t;s%=n;l%=n;u%=n;d=null;var f=function(){var e=4294967087;var t=4294944443;var i=1403580;var n=810728;var d=527612;var c=1370589;var f,p,h;p=i*a-n*r;f=0|p/e;p-=f*e;if(p<0)p+=e;r=a;a=o;o=p;h=d*u-c*s;f=0|h/t;h-=f*t;if(h<0)h+=t;s=l;l=u;u=h;if(p<=h)return p-h+e;else return p-h};var p=function(){return 2.3283064365386963e-10*f()};p.uint32=f;p.fract53=function(){return p()+1.1102230246251565e-16*(2097151&f())};p.version="MRG32k3a 0.9";p.args=e;return p}(Array.prototype.slice.call(arguments))}function r(e,t){t="undefined"==typeof t?"":t;var i=new n(e||0,location.href,Date.now());return t+(+new Date).toString(32)+parseInt(1e5*i()).toString(32)}t.rand=r});define("tui/class",[],function(){function e(){return function(){if(this.initialize)this.initialize.apply(this,arguments)}}function t(t,i){var n=this;var r=e();$.extend(r,n,i);var a=Object.create(n.prototype);a.constructor=r;r.prototype=a;$.extend(r.prototype,t);r.superClass=n.prototype;return r}var i=function(i){var n=e();$.extend(n.prototype,i);n.extend=t;return n};i.extend=t;return i});define("tui/event",["tui/class"],function(e){var t=e({initialize:function(){this.__event=window.Zepto?new window.Zepto.Events:$({})}});var i=t.prototype;["bind","one"].forEach(function(e){i[e]=function(t,i,n){if($.isPlainObject(t))for(var r in t)this[e](r,t[r]);else{var a=this.__event;var o=function(){return i.apply(n||a,arguments.length>0?window.Zepto?arguments:Array.prototype.slice.call(arguments,1):[])};a[e].call(a,t,o);i.guid=o.guid}return this}});["unbind","trigger","triggerHandler"].forEach(function(e){i[e]=function(){var t=this.__event;if(require.debug)console.log("[event] "+this.constructor.__mid+" : "+arguments[0],arguments[1]);var i=t[e].apply(t,arguments);if(require.debug&&i!=t&&void 0!=i)console.log(i);return i}});i.fire=i.trigger;i.firing=i.triggerHandler;t.mix=function(e){return $.extend(e,new t)};return t});define("module/stat/common",["tui/cookie","tui/event","tui/random"],function(e,t,i,n,r){var a={UL:1,OL:2,LI:3,INPUT:4,DIV:5,BODY:6,STRONG:7,SPAN:8,FORM:9,BUTTON:10,CAPTION:11,FIELDSET:12,COLGROUP:13,TFOOT:14,LABEL:15,LEGEND:16,THEAD:17,OPTGROUP:18,OPTION:19,SELECT:20,TABLE:21,TBODY:22,IFRAME:0,SCRIPT:0,OBJECT:0,EMBED:0,IMG:0};function o(){return i.rand(e("u_id"))}function s(){var t=e("juid");if(!t){t=i.rand(e("u_id"),"0");e("juid",t,{expires:365*100,domain:"youku.com",path:"/"});t=e("juid")||1}window.juidStr=t;return t}function l(){var t=e("seid");if(!t||+new Date>(parseInt(e("seidtimeout"))||0)){t=i.rand(e("u_id"),"0");e("seid",t,{domain:"youku.com",path:"/"});t=e("seid")||1}var n=e("referhost");if(!n||+new Date>(parseInt(e("seidtimeout"))||0)){var r=/^https?:\/\/[^\/]+/.exec(document.referrer||"");n=r?r[0]:"";e("referhost",n,{domain:"youku.com",path:"/"})}e("seidtimeout",Date.now()+30*6e4,{domain:"youku.com",path:"/"});return t}function u(e){e=$(e)[0];var t=[];if(e.id)return"#"+e.id;for(;e;e=e.parentNode){var i=e.nodeName.toUpperCase();if("BODY"==i)break;if(e.id&&"i"!=e.getAttribute("cs")){t.splice(0,0,"#"+e.id);return t.join("~")}var n=0;for(var r=e.previousSibling;r;r=r.previousSibling){var o=r.nodeName.toUpperCase();if(0===a[o])continue;if(o==i)++n}i=a[i]||i;var s=n?"!"+(n+1):"";t.splice(0,0,i+s)}return t.length?t.join("~"):null}function d(e){var t=$(e).attr("href")||$(e).attr("data-stat-href");if(!t)return"";if(/^(javascript:|#)/i.test(t))return"";t=$.trim(t);var i=location.href;var n=i.replace(/(https?:\/\/[^\/]+).*/,"$1");var r=n===i?n+"/":i.replace(/[#?].*/,"").replace(/[^\/]*$/,"");return t.replace(/^\.[\.\/]+/g,function(e){var t=(e.match(/\.\.\//g)||[]).length;for(var i=0;i<t;i++)r=r.replace(/[^\/]+\/$/,"");return r}).replace(/&amp;/g,"&").replace(/^\//,n+"/").replace(/^[^\h\/]/,r+"$&")}function c(e){var t={A:1,INPUT:1,BUTTON:1};if("LABEL"==e.nodeName){var i;var n=$(e);var r=n.attr("for");if(r)i=$("input#"+r).get(0);if(!i){var a=n.find("input:first");if(a.length>0)i=a.get(0)}if(i)e=i}if(e.getAttribute&&"ck"==e.getAttribute("data-stat-role"))return e;else{var o=e.parentNode;try{if(o&&o.getAttribute&&"ck"==o.getAttribute("data-stat-role"))return o}catch(s){}}if(!t[e.nodeName]){e=e.parentNode||{};if(!t[e.nodeName])return false}return e}function f(e){if(!e)return e;if(0==e.indexOf("#"))e=e.replace(/\#([^~\s]+)~/,function(e,t){return'//*[@id="'+t+'"]~'});else e="~html~body~"+e;e=e.replace(/\!(\d+)/g,function(e,t){return"["+t+"]"});e=e.replace(/(~?)(\d+)(~|\[)/g,function(e,t,i,n){for(var r in a)if(a[r]==parseInt(i))return t+r+n;return e});e=e.replace(/~/g,"/");return e}function p(e){var t=document.evaluate(e,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(t.snapshotLength>0)return t.snapshotItem(0);return null}function h(e){var t=[];$.each(e,function(e,i){if(""!==i)t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))});return t.join("&")}function m(e,i){if(!i)t.mix(e);return $.extend(e,{__callbacks:[],addData:function(e){this.__callbacks.push(e)},getData:function(){var e=this;var t={};var i=arguments;e.__callbacks.forEach(function(n){var r=n.apply(e,i)||{};$.extend(t,r)});return t}})}r.referrer=document.referrer||"";r.updateRefer=function(e){r.referrer=e||location.href};r.getPositionCode=u;r.getTrueLink=d;r.getStatTarget=c;r.getXpathFromPositionCode=f;r.getElementByXPath=p;r.param=h;r.mix=m;r.juid=s;r.seid=l;r.pvid=o});define("tui/storage",["tui/class"],function(e){var t=e({initialize:function(e){var t=this;if(e){t.iframe1=$('<iframe src="'+e+'" style="position:absolute;left:-9999px;bottom:0;width:0;height:0;visibility:hidden;">');var n=/https?:\/\/[^\/]+/.exec(e);t.origin=n?n[0]:""}else{t.storage=i(window);t.loaded1=true;return}t.gcbs1=[];t.scbs1=[];t.rcbs1=[];t.loaded1=!!t.storage;if(t.iframe1.on)t.iframe1.on("load",r);else t.iframe1.bind("load",r);function r(){t.storage=i(this.contentWindow,t.origin);t.loaded1=true;t.gcbs1.forEach(function(e){t.getItem(e.k,e.cb)});t.scbs1.forEach(function(e){t.setItem(e.k,e.v,e.cb)});t.rcbs1.forEach(function(e){t.removeItem(e.k,e.cb)});t.gcbs1=[];t.scbs1=[];t.rcbs1=[]}$(document.body).append(this.iframe1)},getItem:function(e,t){if(this.loaded1)this.storage.getItem(e,t);else this.gcbs1.push({k:e,cb:t});return this},setItem:function(e,t,i){if($.isPlainObject(t)||$.isArray(t))t=JSON.stringify(t);if(this.loaded1)this.storage.setItem(e,t,i);else this.scbs1.push({k:e,v:t,cb:i});return this},removeItem:function(e,t){if(this.loaded1)this.storage.removeItem(e,t);else this.rcbs1.push({k:e,cb:t});return this}});function i(e,t){if(e.localStorage)return n(e);else if(e.ActiveXObject)return r(e);else throw new Error("Local storage not exist.")}function n(e){var t={};t.setItem=function(t,i,n){e.localStorage.setItem(t,i);if(n)n()};t.getItem=function(t,i){if(i)i(e.localStorage.getItem(t))};t.removeItem=function(t,i){e.localStorage.removeItem(t);if(i)i()};return t}function r(e){var t={},i=e.document.documentElement;i.addBehavior("#default#userdata");t.setItem=function(e,t,n){try{i.setAttribute("tui",t);i.save(e)}catch(r){throw new Error("[V3] userData behavior error")}if(n)n()};t.getItem=function(e,t){try{i.load(e);if(t)t(i.getAttribute("tui"))}catch(n){return null}};t.removeItem=function(e,t){try{i.load(e);i.expires=new Date(315532799e3).toUTCString();i.save(e);if(t)t()}catch(n){}};return t}return t});define("module/global",["tui/event","tui/cookie","tui/storage","module/stat/common","module/domain"],function(e,t,i,n,r,a,o){try{document.domain="youku.com"}catch(s){}var l={};l.juid=n.juid();l.seid=n.seid();l.pvid=n.pvid();return l});define("tui/browser",[],function(){var e=navigator.userAgent.toLowerCase();var t={mac:/mac/.test(e),webkit:/webkit/.test(e),safari:/safari/.test(e)&&!/chrome/.test(e),opera:/opera/.test(e),msie:/msie/.test(e)&&!/opera/.test(e),mozilla:/mozilla/.test(e)&&!/(compatible|webkit)/.test(e),iku:/iku/.test(e),wechat:/micromessenger/.test(e),youku:/youku/.test(e)&&!/youku_hd/.test(e),youkuHD:/youku_hd/.test(e),html5:function(){var e=document.createElement("input");var t=document.createElement("video");return{h264:!!(t.canPlayType&&t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"")),history:!!(window.history&&window.history.pushState&&window.history.popState),placeholder:"placeholder"in e}},lang:(navigator.language||navigator.systemLanguage).toLowerCase(),iOS:(e.match(/(ipad|iphone|ipod)/)||[])[0],iOSVersion:(e.match(/os\s+([\d_]+)\s+like\s+mac\s+os/)||[0,"0_0_0"])[1].split("_"),wphone:parseFloat((e.match(/windows\sphone\s(?:os\s)?([\d.]+)/)||["","0"])[1]),android:parseFloat((e.match(/android[\s|\/]([\d.]+)/)||["","0"])[1]),youkuVersion:(e.match(/youku\/+([\d.]+)/i)||[0,"0.0.0"])[1],chrome:parseFloat((e.match(/chrome[\s|\/]([\d.]+)/)||["","0"])[1]),safariVersion:parseFloat((e.match(/version[\s|\/]([\d.]+)/)||["","0"])[1])};t.isMobile=!!t.iOS||!!t.wphone||!!t.android||void 0!==window.orientation||false;t.isPad=t.isMobile&&("ipad"==t.iOS||e.indexOf("mobile")==-1||e.indexOf("windows nt")!=-1&&e.indexOf("touch")!=-1)||false;t.isPhone=t.isMobile&&("iphone"==t.iOS||"ipod"==t.iOS)||e.indexOf("mobile")!=-1&&!!t.android||false;return t});define("tui/drag",["tui/event"],function(e){var t=$(window);function i(){if(window.getSelection)window.getSelection().removeAllRanges();else if(document.selection)document.selection.empty();return this}function n(e){e.preventDefault()}var r=e.extend({initialize:function(e,a){var o=this;a=a||{};var s=a.handler||e;r.superClass.initialize.call(o);o.limit=a.limit;o.bubble=a.bubble;o.isCustom=a.isCustom;o.enable2=true;o.state2=false;o.hasMove2=false;o.fx=o.fy=-1;o.x2=o.y2=o.mx2=o.my2=o.px2=o.py2=o.cx2=o.cy2=0;o.node2="string"==$.type(e)?$(e):e;o.container2=a.container||o.node2.parent();o.fixed2="fixed"==o.node2.css("position").toLowerCase();o.handler2="string"==$.type(s)?$(s):s;var l=o.handler2||o.node2;function u(e){e.preventDefault();if(!o.bubble||e.target==l[0]){o.start(e);if(l[0].setCapture)l[0].setCapture()}}l.bind("mousedown",u);function d(e){if(o.state2){o.state2=false;var i=e.pageX-o.mx2+o.x2-o.px2,r=e.pageY-o.my2+o.y2-o.py2;if(o.fixed2){i-=t.scrollLeft();r-=t.scrollTop()}if(o.limit){i=Math.max(i,o.cx2-o.px2);r=Math.max(r,o.cy2-o.py2);i=Math.min(i,o.cWidth-(o.px2-o.cx2)-o.dWidth);r=Math.min(r,o.cHeight-(o.py2-o.cy2)-o.dHeight)}o.x2=o.node2.offset().left;o.y2=o.node2.offset().top;o.trigger("drag:end",[i,r,e.pageX,e.pageY,o.node2,o.container2])}$(document).unbind("selectstart",n);if(l[0].releaseCapture)l[0].releaseCapture()}$(document).bind("mouseup",d);function c(e){if(o.state2&&o.enable2){if(!o.hasMove()&&e.pageX==o.fx&&e.pageY==o.fy);else o.hasMove2=true;var n=e.pageX-o.mx2+o.x2-o.px2,r=e.pageY-o.my2+o.y2-o.py2;if(o.fixed2){n-=t.scrollLeft();r-=t.scrollTop()}if(o.limit){n=Math.max(n,o.cx2-o.px2);r=Math.max(r,o.cy2-o.py2);n=Math.min(n,o.cWidth-(o.px2-o.cx2)-o.dWidth);r=Math.min(r,o.cHeight-(o.py2-o.cy2)-o.dHeight)}if(!o.isCustom)o.node2.css({left:n,top:r});i();o.trigger("drag:move",[n,r,e.pageX,e.pageY,o.node2,o.container2])}}$(document).bind("mousemove",c);o.cancel=function(){l.unbind("mousedown",u);$(document).unbind("mouseup",d);$(document).unbind("mousemove",c)}},start:function(e){var t=this;$(document).bind("selectstart",n);t.offsetParent2=t.node2.offsetParent();if(t.limit){t.cWidth=t.container2.outerWidth();t.cHeight=t.container2.outerHeight();t.pWidth=t.offsetParent2.outerWidth();t.pHeight=t.offsetParent2.outerHeight();t.dWidth=t.node2.outerWidth();t.dHeight=t.node2.outerHeight()}t.fx=e.pageX;t.fy=e.pageY;t.cx2=t.container2.offset().left;t.cy2=t.container2.offset().top;t.px2=t.offsetParent2.offset().left;t.py2=t.offsetParent2.offset().top;t.x2=t.node2.offset().left;t.y2=t.node2.offset().top;t.mx2=e.pageX;t.my2=e.pageY;t.state2=true;t.trigger("drag:start",[t.x2,t.y2,e.pageX,e.pageY,t.node2,t.container2]);return this},enable:function(){this.enable2=true;return this},disable:function(){this.enable2=false;return this},state:function(){return this.state2},hasMove:function(){return this.hasMove2}});return r});define("tui/art",[],function(){var e=window;var t=function(e,i){return t["string"===typeof i?"compile":"render"].apply(t,arguments)};t.version="2.0.2";t.openTag="<%";t.closeTag="%>";t.isEscape=true;t.isCompress=false;t.parser=null;t.render=function(e,i){var n=t.get(e)||r({id:e,name:"Render Error",message:"No Template"});return n(i)};t.compile=function(e,n){var o=arguments;var s=o[2];var l="anonymous";if("string"!==typeof n){s=o[1];n=o[0];e=l}try{var u=a(e,n,s)}catch(d){d.id=e||n;d.name="Syntax Error";return r(d)}function c(i){try{return new u(i,e)+""}catch(a){if(!s)return t.compile(e,n,true)(i);return r(a)()}}c.prototype=u.prototype;c.toString=function(){return u.toString()};if(e!==l)i[e]=c;return c};var i=t.cache={};var n=t.helpers=function(){var e=function(t,i){if("string"!==typeof t){i=typeof t;if("number"===i)t+="";else if("function"===i)t=e(t.call(t));else t=""}return t};var i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"};var n=function(t){return e(t).replace(/&(?![\w#]+;|#\d+)|[<>"']/g,function(e){return i[e]})};var r=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)};var a=function(e,t){if(r(e))for(var i=0,n=e.length;i<n;i++)t.call(e,e[i],i,e);else for(i in e)t.call(e,e[i],i)};return{$include:t.render,$string:e,$escape:n,$each:a}}();t.helper=function(e,t){n[e]=t};t.onerror=function(t){var i="Template Error\n\n";for(var n in t)i+="<"+n+">\n"+t[n]+"\n\n";if(e.console)console.error(i)};t.get=function(n){var r;if(i.hasOwnProperty(n))r=i[n];else if("document"in e){var a=document.getElementById(n);if(a){var o=a.value||a.innerHTML;r=t.compile(n,o.replace(/^\s*|\s*$/g,""))}}return r};var r=function(e){t.onerror(e);return function(){return"{Template Error}"}};var a=function(){var e=n.$each;var i="break,case,catch,continue,debugger,default,delete,do,else,false"+",finally,for,function,if,in,instanceof,new,null,return,switch,this"+",throw,true,try,typeof,var,void,while,with"+",abstract,boolean,byte,char,class,const,double,enum,export,extends"+",final,float,goto,implements,import,int,interface,long,native"+",package,private,protected,public,short,static,super,synchronized"+",throws,transient,volatile"+",arguments,let,yield"+",undefined";var r=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g;var a=/[^\w$]+/g;var o=new RegExp(["\\b"+i.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g");var s=/^\d[^,]*|,\d[^,]*/g;var l=/^,+|,+$/g;var u=function(e){return e.replace(r,"").replace(a,",").replace(o,"").replace(s,"").replace(l,"").split(/^$|,+/)};return function(i,r,a){var o=t.openTag;var s=t.closeTag;var l=t.parser;var d=r;var c="";var f=1;var p={$data:1,$id:1,$helpers:1,$out:1,$line:1};var h={};var m="var $helpers=this,"+(a?"$line=0,":"");var v="".trim;var g=v?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"];var y=v?"if(content!==undefined){$out+=content;return content;}":"$out.push(content);";var _="function(content){"+y+"}";var b="function(id,data){"+"data=data||$data;"+"var content=$helpers.$include(id,data,$id);"+y+"}";e(d.split(o),function(e,t){e=e.split(s);var i=e[0];var n=e[1];if(1===e.length)c+=E(i);else{c+=T(i);if(n)c+=E(n)}});d=c;if(a)d="try{"+d+"}catch(e){"+"throw {"+"id:$id,"+"name:'Render Error',"+"message:e.message,"+"line:$line,"+"source:"+C(r)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')"+"};"+"}";d=m+g[0]+d+"return new String("+g[3]+");";try{var w=new Function("$data","$id",d);w.prototype=h;return w}catch(k){k.temp="function anonymous($data,$id) {"+d+"}";throw k}function E(e){f+=e.split(/\n/).length-1;if(t.isCompress)e=e.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"");if(e)e=g[1]+C(e)+g[2]+"\n";return e}function T(e){var i=f;if(l)e=l(e);else if(a)e=e.replace(/\n/g,function(){f++;return"$line="+f+";"});if(0===e.indexOf("=")){var r=0!==e.indexOf("==");e=e.replace(/^=*|[\s;]*$/g,"");if(r&&t.isEscape){var o=e.replace(/\s*\([^\)]+\)/,"");if(!n.hasOwnProperty(o)&&!/^(include|print)$/.test(o))e="$escape("+e+")"}else e="$string("+e+")";e=g[1]+e+g[2]}if(a)e="$line="+i+";"+e;x(e);return e+"\n"}function x(t){t=u(t);e(t,function(e){if(!p.hasOwnProperty(e)){A(e);p[e]=true}})}function A(e){var t;if("print"===e)t=_;else if("include"===e){h["$include"]=n["$include"];t=b}else{t="$data."+e;if(n.hasOwnProperty(e)){h[e]=n[e];if(0===e.indexOf("$"))t="$helpers."+e;else t=t+"===undefined?$helpers."+e+":"+t}}m+=e+"="+t+","}function C(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}}}();return t});define("tui/widget",["tui/event","tui/art"],function(e,t){function i(e,t){var i;var n;var r=e.split(" ");if(1==r.length){i=t;n=e}else{i=r.shift();n=r.join(" ")}return[i,n]}var n=e.extend({element:null,template:"<div></div>",eventType:"click",model:{},events:{},targetNode:$(document.body),renderMethod:"append",initialize:function(e){var t=this;e=e||{};n.superClass.initialize.call(t);t.model=$.extend(true,{},t.model);t.events=$.extend(true,{},t.events);$.each(["element","targetNode"],function(){"undefined"!==typeof e[this]&&(t[this]=$(e[this]))});$.each(["template","eventType","renderMethod"],function(){"undefined"!==typeof e[this]&&(t[this]=e[this])});$.each(["model","events"],function(){"undefined"!==typeof e[this]&&$.extend(t[this],e[this])})},find:function(e){return this.element.find(e)},delegate:function(e,t){var n=this;if("string"==$.type(e)&&$.isFunction(t)){var r={};
r[e]=t;e=r}$.each(e,function(e,t){var r=function(e){if($.isFunction(t))return t.call(n,e);else return n[t](e)};var a=i(e,n.eventType);n.element.on(a[0],a[1],r)});return n},undelegate:function(e){var t=this;var n=i(e,t.eventType);t.element.off(n[0],n[1]);return t},render:function(e){var i=this;if(!i.element||!i.element[0])i.element=$(t.compile(i.template)($.extend({getUrl:this.getUrl||r},e||i.model)));i.delegate(i.events);if(i.renderMethod)i.targetNode[i.renderMethod](i.element);return i},update:function(e){if(this.renderMethod)this.targetNode[this.renderMethod](t.compile(this.template)($.extend({getUrl:this.getUrl||r},e)))}});function r(e){return e}return n});define("tui/mask",[],function(){var e=$('<div class="tui-mask">');var t;var i=$(window);var n=$(document);var r=$(document.body);var a=4096;function o(){var t=Math.max(i.width(),n.width());var r=Math.max(i.height(),n.height());var o="absolute";var s=0;if(/msie/.test(navigator.userAgent.toLowerCase())&&r>a){s=i.scrollTop();if(s+a>r)s=r-a;r=a}e.css({position:o,top:s,width:t,height:r})}return{node:function(){return e},resize:function(){o()},show:function(n){i.bind("resize",o);e.css("z-index",n||2e4);this.resize();if(!t){r.append(e);t=true}else e.show();return this},hide:function(n){i.unbind("resize",o);if(n){e.remove();t=false}else e.hide();return this},update:function(){o()},state:function(){return e.is(":visible")}}});define("tui/dialog",["tui/art","tui/mask","tui/widget","tui/drag"],function(e,t,i,n){var r=$(window);var a=1e4;var o='		<div class="tui-dialog <%=className%>">			<div class="tui-dialog-content" <%if(width){%>style="width:<%=width%>px"<%}%> data-role="content">				<div class="tui-dialog-header" data-role="header">					<a class="tui-dialog-close" href="#" data-role="close" title="关闭"><i>&times;</i><span>关闭</span></a>					<div class="tui-dialog-title" data-role="title"><%=title%></div>				</div>				<div class="tui-dialog-body" data-role="body">				</div>				<div class="tui-dialog-footer" data-role="footer">					<% for (var i = 0; i < buttons.length; i++) { %>					<a data-role="button_<%=i%>" href="#" class="btn btn-default <%if(buttons[i].className){%><%=buttons[i].className%><%}%>"><%=buttons[i].name%></a>					<% } %>				</div>			</div>		</div>';var s=i.extend({events:{"click [data-role=close]":function(e){e.preventDefault();this.close()}},initialize:function(t){var i=this;var n={template:o,buttons:[],zIndex:a,hasDrag:true,hasMask:true,isFixed:true,iframeMask:false,className:"",title:"",width:null,target:null,resize:true};t=$.extend(n,t||{});a=t.zIndex;t.element=$(e.compile(t.template)(t));s.superClass.initialize.call(this,t);i.dom={content:i.element.find("[data-role=content]"),header:i.element.find("[data-role=header]"),title:i.element.find("[data-role=title]"),body:i.element.find("[data-role=body]"),footer:i.element.find("[data-role=footer]"),close:i.element.find("[data-role=close]")};i.config=t;i.open();var r=function(e){if(27==e.keyCode){i.close();$(document).unbind("keydown",r)}};$(document).keydown(r)},title:function(e){this.dom.title.html(e);return this},content:function(e){this.dom.body.html(e);return this},open:function(){var e=this;var i=e.config;var r=e.element;var o=e.dom;r.css("z-index",a);a+=2;if(i.hasMask)t.show(r.css("z-index")-1);r.css("position",i.isFixed?"fixed":"absolute");if(i.iframeMask)e.iframeMask=$("<iframe>",{src:"about:blank",frameborder:0,css:{border:"none","z-index":-1,position:"absolute",top:0,left:0,width:"100%",height:"100%"}}).prependTo(o.content);e.content(i.content||"");$.each(i.buttons,function(t){e.events["[data-role=button_"+t+"]"]=this.callback});if(!e.element.parent()[0])e.render();e.element.show();e.locate();if(e.config.hasDrag)new n(r,{handler:o.header,limit:true});return e},close:function(e){var i=this;if(i.config.hasMask)t.hide(true);i.trigger("close",[i]);if(!e&&i.iframeMask)i.element.find("iframe").remove();i.element[e?"hide":"remove"]();if(i.iefixScroll){r.unbind("scroll",i.iefixScroll);i.iefixScroll=null}return i},locate:function(){var e=this;var t="50%";var i=0;var n=$(e.config.target);if(n.length>0)i=100*(n.offset().top-r.scrollTop())/r.height()+"%";else if(!e.config.isFixed)i=r.scrollTop()+r.height()/2;else i="50%";e.element.css({left:t,top:i,margin:e.element.height()/-2+"px "+e.element.width()/-2+"px"});return e}});s.confirm=function(e,t){var i="";if($.isPlainObject(e))i=e.content||"";else i=e;t=t||e.callback;return new s($.extend({className:"tui-dialog tui-dialog-alert",title:"提示",content:'<div class="alert-text">'+i+"</div>",hasMask:true,buttons:[{name:"确定",callback:function(e){e.preventDefault();t&&t.call(this);this.close()}},{name:"取消",callback:function(e){e.preventDefault();this.close()}}]},e))};s.alert=function(e,t){var i="";if($.isPlainObject(e))i=e.content||"";else i=e;t=t||e.callback;return new s($.extend({className:"tui-dialog tui-dialog-alert",title:"提示",content:'<div class="alert-text">'+i+"</div>",hasMask:true,buttons:[{name:"确定",callback:function(e){e.preventDefault();t&&t.call(this);this.close()}}]},e))};return s});define("tui/util/codec",[],function(e,t){function i(e,t){var i=[],n=0,r,a="";for(var o=0;o<256;o++)i[o]=o;for(o=0;o<256;o++){n=(n+i[o]+e.charCodeAt(o%e.length))%256;r=i[o];i[o]=i[n];i[n]=r}o=0;n=0;for(var s=0;s<t.length;s++){o=(o+1)%256;n=(n+i[o])%256;r=i[o];i[o]=i[n];i[n]=r;a+=String.fromCharCode(t.charCodeAt(s)^i[(i[o]+i[n])%256])}return a}function n(e){if(!e)return"";e=e.toString();var t,i,n,r;var a,o,s;var l=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);o=e.length;a=0;s="";while(a<o){do t=l[255&e.charCodeAt(a++)];while(a<o&&t==-1);if(t==-1)break;do i=l[255&e.charCodeAt(a++)];while(a<o&&i==-1);if(i==-1)break;s+=String.fromCharCode(t<<2|(48&i)>>4);do{n=255&e.charCodeAt(a++);if(61==n)return s;n=l[n]}while(a<o&&n==-1);if(n==-1)break;s+=String.fromCharCode((15&i)<<4|(60&n)>>2);do{r=255&e.charCodeAt(a++);if(61==r)return s;r=l[r]}while(a<o&&r==-1);if(r==-1)break;s+=String.fromCharCode((3&n)<<6|r)}return s}function r(e){if(!e)return"";e=e.toString();var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var i,n,r;var a,o,s;r=e.length;n=0;i="";while(n<r){a=255&e.charCodeAt(n++);if(n==r){i+=t.charAt(a>>2);i+=t.charAt((3&a)<<4);i+="==";break}o=e.charCodeAt(n++);if(n==r){i+=t.charAt(a>>2);i+=t.charAt((3&a)<<4|(240&o)>>4);i+=t.charAt((15&o)<<2);i+="=";break}s=e.charCodeAt(n++);i+=t.charAt(a>>2);i+=t.charAt((3&a)<<4|(240&o)>>4);i+=t.charAt((15&o)<<2|(192&s)>>6);i+=t.charAt(63&s)}return i}function a(e){var t,i,n,r;t="";n=e.length;for(i=0;i<n;i++){r=e.charCodeAt(i);if(r>=1&&r<=127)t+=e.charAt(i);else if(r>2047){t+=String.fromCharCode(224|15&r>>12);t+=String.fromCharCode(128|63&r>>6);t+=String.fromCharCode(128|63&r>>0)}else{t+=String.fromCharCode(192|31&r>>6);t+=String.fromCharCode(128|63&r>>0)}}return t}function o(e){var t,i,n,r;var a,o;t="";n=e.length;i=0;while(i<n){r=e.charCodeAt(i++);switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(i-1);break;case 12:case 13:a=e.charCodeAt(i++);t+=String.fromCharCode((31&r)<<6|63&a);break;case 14:a=e.charCodeAt(i++);o=e.charCodeAt(i++);t+=String.fromCharCode((15&r)<<12|(63&a)<<6|(63&o)<<0)}}return t}function s(e){var t=this;if(!e)return"";if(e<<2>0)var i="U"+r(e<<2);else i="U"+r(4*e);return i}t.rc4=i;t.decode64=n;t.encode64=r;t.utf16to8=a;t.utf8to16=o;t.encodeUid=s});define("tui/util/url",[],function(e,t){var i=/msie/.test(navigator.userAgent.toLowerCase());function n(e,t){if(!i)if(t)window.open(e,t);else location.href=e;else{var n=$('<a href="'+e+'" target="'+(t||"_self")+'" data-openurl="true"> </a>')[0];document.body.appendChild(n);n.click()}}function r(e){e=e||location.search||location.href;var t={},i=e.match(/[^\s&?#=\/]+=[^\s&?#=]+/g);if(i)for(var n=0,r=i.length;n<r;n++){var a=i[n].split("=");t[a[0]]=decodeURIComponent(a[1])}return t}t.openURL=n;t.params=r});define("tui/util/str",[],function(e,t){function i(e){return e.replace(/([^\x00-\xff])/g,"$1 ").length}function n(e,t,i){e=e||"";i=i||"..";if(this.byteLen(e)<=t)return e;var n=e.substr(0,t).replace(/([^\x00-\xff])/g,"$1 ").substr(0,t).replace(/([^\x00-\xff])\s/g,"$1");return n+i}function r(e,t){t=t||400;e=e.replace(/(\r\n|\n)+/g,"<br>");e=e.replace(/\s{2,}/g," ");e=e.replace(/(<(?:img|embed).*?>)([\s\S]*)$/gi,function(e,t,i){return t+i.replace(/<(?:img|embed).*?>/gi,"")});e=e.replace(/<\/(p|div|ol|ul|li)>/gi,"<br>");e=e.replace(/<(?!img|embed|br).*?>/gi,"");e=e.replace(/(<br[^>]*>\s*){2,}/gi,"$1");var i=e.length;e=e.substr(0,t);e=e.replace(/<[^>]*$/,"");if(e.length<i)e+=" ...";return e}var a=[];for(var o=0;o<256;o++)a[o]=(o<16?"0":"")+o.toString(16);function s(){var e=0|4294967295*Math.random();var t=0|4294967295*Math.random();var i=0|4294967295*Math.random();var n=0|4294967295*Math.random();return a[255&e]+a[255&e>>8]+a[255&e>>16]+a[255&e>>24]+"-"+a[255&t]+a[255&t>>8]+"-"+a[64|15&t>>16]+a[255&t>>24]+"-"+a[128|63&i]+a[255&i>>8]+"-"+a[255&i>>16]+a[255&i>>24]+a[255&n]+a[255&n>>8]+a[255&n>>16]+a[255&n>>24]}function l(e){var t={"&#60;":"<","&#62;":">","&#34;":'"',"&#39;":"'","&#38;":"&"};return e.replace(/(&#\d{2};)/g,function(e){return t[e]})}t.unescapeHTML=l;t.byteLen=i;t.substr=n;t.subHtml=r;t.uuid=s});define("tui/util/num",[],function(e,t){function i(e,t){var i="",n=e<0,r=String(Math.abs(e));if(r.length<t)i=new Array(t-r.length+1).join("0");return(n?"-":"")+i+r}function n(e,t){t=t.length;e=e||0;return 1==t?e:(e=String(Math.pow(10,t)+e)).substr(e.length-t)}function r(e,t){t=t||",";return String(e).replace(/(\d)(?=(\d{3})+($|\.))/g,"$1"+t)}function a(e){e=parseInt(e);var t;if(e>=1e8)t=(e/1e8).toFixed(2)+"亿";else if(e>=1e4){var i=e/1e4;var n=parseInt(i).toString();var a=n.length;if(a<4&&i!=n)n=i.toFixed(1==a?2:4-a);t=r(n)+"万"}else t=r(e);return t}function o(e){e=parseInt(e);var t=-1;do{e/=1024;t++}while(e>1024);return Math.max(e,.1).toFixed(1)+["KB","MB","GB","TB"][t]}t.pad=i;t.format=n;t.split=r;t.field=a;t.bytes=o});define("tui/util/date",["tui/util/num"],function(e,t,i){var n=e.format;function r(e,t){if(void 0===t)t=new Date;else if($.isNumeric(t))t=new Date(parseInt(t,10));return e.replace(/([YMDhsm])\1*/g,function(e){switch(e.charAt()){case"Y":return n(t.getFullYear(),e);case"M":return n(t.getMonth()+1,e);case"D":return n(t.getDate(),e);case"w":return t.getDay()+1;case"h":return n(t.getHours(),e);case"m":return n(t.getMinutes(),e);case"s":return n(t.getSeconds(),e)}})}var a=60*24*60;function o(e,t,i){if($.isNumeric(e))e=new Date(parseInt(e,10));if($.isNumeric(t))t=new Date(parseInt(t,10));if(void 0===e)e=new Date;if(void 0===t)t=new Date;if(!i)i="YYYY年MM月DD日";var n=new Date(t.toDateString());var o=(+t-+e)/1e3;var s=(+t-+n)/1e3;if(o<=60)return"刚刚";else if(o<=60*60)return Math.floor(o/60)+"分钟前";else if(o<=s)return Math.floor(o/3600)+"小时前";else if(o<=s+a)return"昨天";else if(o<=s+2*a)return"前天";else if(o<=s+7*a)return Math.floor(o/a)+"天前";else if(o<=s+25*a)return Math.floor(o/(7*a))+"周前";else return r(i,e)}function s(e,t){var i=0;e=String(e).split(":");for(var n=0,r=e.length;n<r;n++)i+=parseInt(e[n],10)*Math.pow(60,r-n-1);return t?1e3*i:i}function l(e,t){var i=[],n,r,e;e=Math.ceil(e);if(void 0==t||t){n=parseInt(e/3600);r=parseInt(e%3600/60)}else r=parseInt(e/60);e%=60;if(r<10)r="0"+r;if(e<10)e="0"+e;i=[r,e];if(n>0)i.unshift(n);return i.join(":")}function u(e,t,i){if("date"==$.type(t))t=t.getTime();else t=parseInt(t);var r=new Date(t),a=r.getHours();if(r>432e5)a+=Math.floor(r/432e5);if(i)e=e.replace(/(\w)\1+/g,"$1");return e.replace(/([hms])\1*/g,function(t){switch(t.charAt()){case"h":return n(a-8,t);case"m":var i=60*(/h+/.test(e)?0:a-8)+r.getMinutes();return n(i,t);case"s":return n(r.getSeconds(),t)}})}function d(e,t){if(e<36e5)return this.formatTime("mm:ss",e,t);else return this.formatTime("hh:mm:ss",e,t)}i.release=o;i.formatDate=r;i.formatTime=u;i.formatTimeE=d;i.beautyTime=l;i.parseTime=s});define("tui/util",["tui/util/date","tui/util/num","tui/util/str","tui/util/url","tui/util/codec"],function(e,t,i,n,r){return $.extend({},e,t,i,n,r)});define("tui/template",[],function(e,t){t.ns=function(e,t,i){var n,r=i||window,a=e.split(".").reverse();while((n=a.pop())&&a.length>0){if("undefined"===typeof r[n])r[n]={};else if("object"!==typeof r[n])return false;r=r[n]}if("undefined"!==typeof t)r[n]=t;return r[n]};t.format=function(e,t){return e.replace(/<%\=(\w+)%>/g,function(e,i){return null!=t[i]?t[i]:""})};t.escapeHTML=function(e){e=e||"";var t={"<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","{":"&#123;","}":"&#125;","@":"&#64;"};return e.replace(/[<>'"\{\}@]/g,function(e){return t[e]})};t.substr=function(e,t,i){if(!e||"string"!==typeof e)return"";var n=e.substr(0,t).replace(/([^\x00-\xff])/g,"$1 ").substr(0,t).replace(/([^\x00-\xff])\s/g,"$1");return i?i.call(n,n):e.length>n.length?n+"...":n};t.strsize=function(e){return e.replace(/([^\x00-\xff]|[A-Z])/g,"$1 ").length};var i=this.document;t.tplSettings={_cache:{},evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};t.tplHelpers={mix:$.extend,escapeHTML:t.escapeHTML,substr:t.substr,include:n,_has:function(e){return function(i){return t.ns(i,void 0,e)}}};function n(e,r,a){var o,s=t.tplSettings,l=a?"#"+a:"";if(!/[\t\r\n% ]/.test(e)){o=s._cache[e+l];if(!o){var u=i.getElementById(e);if(u)o=s._cache[e+l]=n(u.innerHTML,false,a)}}else{var d="var __p=[];"+(a?"":"with(obj){")+"var mix=api.mix,escapeHTML=api.escapeHTML,substr=api.substr,include=api.include,has=api._has("+(a||"obj")+");"+"__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(s.interpolate,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(s.evaluate||null,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');"+(a?"":"}")+"return __p.join('');";try{o=new Function(a||"obj","api",d)}catch(c){console.log("Could not create a template function: \n"+d)}}return!o?"":r?o(r,t.tplHelpers):o}t.convertTpl=n;t.reloadTpl=function(e){delete t.tplSettings._cache[e]}});define("tui/flash",["tui/class","tui/event","tui/template","tui/util","tui/dialog","tui/browser"],function(e,t,i,n,r,a,o,s){function l(e,t,i,n){var r,a=i||window,o=e.split(".").reverse();while((r=o.pop())&&o.length>0){if("undefined"===typeof a[r])a[r]={};else if("object"!==typeof a[r])return false;a=a[r]}if("undefined"!=typeof t)if("object"!=typeof a[r])a[r]=t;else $.extend(a[r],t);return a[r]}s.getFlashMC=function(e){return document.getElementById(e)||window[e]};s.swfobject=function(){var o=0;var u=!(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length);var d=a.webkit;var c=s.getFlashMC;var f={object:'<object id="<%=id%>" <%=classid%> width="<%=width%>" height="<%=height%>" name="<%=name%>" <%=data%> style="<%=style%>" <%=mimetype%> >',embed:'<embed id="<%=id%>" width="<%=width%>" height="<%=height%>" flashvars="<%=flashvars%>" quality="high" name="<%=name%>" src="<%=src%>" style="<%=style%>" <%=mimetype%> ',pluginspage:'<a id=<%=id%> class="tui_noflash" href="#" style="width:<%=width%>;height:<%=height%>;display:block;overflow:hidden;cursor:pointer;<%=style%>" onclick="<%=fn%>()">需要flashplayer插件，点击安装</a>'};var p="application/x-shockwave-flash";var h=s.swfClass=e({initialize:function(e){var i=this;o++;$.extend(this,e);var n=e.attrs;var r=n.id;if(!r)r=n.id="TUI_flashObj_"+o;this.flashId=r;if(!n.name)n.name=n.id;this.pluginspage=e.pluginspage||g;this.pluginspageTpl=e.pluginspageTpl||y;var a=v();this.isSupport=a&&a[0]>0;var s=this.jsapiName=e.flashvars.jsapi="_TUI_flashObj_"+o;var u=this.jsapi=window[s]={};var d=e.params.allowscriptaccess||e.params.allowScriptAccess;if(d&&"never"!=d){this.event=new t;$.extend(u,{flashReady:function(e){i.event.fire("load",e)},getValue:function(e){return l(e)},callFunc:function(e,t){try{return l(e).apply(l(e.replace(/\.[^\.]+$/,"")),t)}catch(i){return false}},notify:function(e,t){i.event.fire(e,t)}})}},load:function(e){var t=e?$("#"+e)[0]:false;if(t)if(t.outerHTML&&!a.opera)t.outerHTML=this.getHTML();else{var i=this,n=$(this.getHTML())[0];t.parentNode.replaceChild(n,t)}else document.write(this.getHTML())},getHTML:function(){var e,t,n=this,r=[],a=[],o=this.attrs,s=this.flashvars,l=this.params;if(this.isSupport)if(d&&d<312||!u&&"embed"===this.type){for(e in s)a.push(e+"="+s[e]);o.flashvars=a.join("&");o.mimetype='type="'+p+'"';r.push(i.format(f["embed"],o));for(t in l)r.push(t+'="'+l[t]+'" ');r.push(" ></embed>")}else{if(u)o.classid='classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';else{o.data='data="'+o.src+'"';o.mimetype='type="'+p+'"'}r.push(i.format(f["object"],o));if(u)l["movie"]=o.src;l["quality"]="high";for(t in l)r.push('<param name="',t,'" value="',l[t],'" />');for(e in s)a.push(e+"="+s[e]);if(a.length>0)r.push('<param name="flashvars" value="',a.join("&"),'" />');r.push("</object>")}else{var c=o.width,h=o.height;r.push(i.format(this.pluginspageTpl(),$.extend(o,{width:!c&&"auto"||/%$/.test(c)&&c||c+"px",height:!h&&"auto"||/%$/.test(h)&&h||h+"px",fn:this.jsapiName+".pluginspage"})));this.jsapi.pluginspage=function(){return n.pluginspage.call(n)}}return r.join("")},ready:function(e){this.event.bind("load",e)},bind:function(e,t){this.event.bind(e,t);c(this.flashId)._addEventListener(e,this.jsapiName+".notify")},callMethod:function(e,t){return c(this.flashId)._call(e,t)}});function m(e,t,i,n,r,a){a=$.extend(a||{},{src:e,width:t,height:i});var o=a.tagType;delete a.tagType;return new h({type:o,attrs:a,params:r,flashvars:n,pluginspage:g,pluginspageTpl:y})}$.extend(m,{getVersion:v,setPluginspage:function(e){var t=g;g=function(){return e.call(this,t)}},setPluginspageTpl:function(e){var t=y;y=function(){return e.call(this,t)}}});return m;function v(){var e=[0,0,0];if(navigator.plugins&&navigator.mimeTypes.length){var t=navigator.plugins["Shockwave Flash"];if(t&&t.description)e=t.description.replace(/^\D+/,"").replace(/\s*r/,".").replace(/\s*[a-z]+\d*/,".0").split(".")}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var i=1;var n=3;while(i)try{n++;i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);e=[n,0,0]}catch(r){i=null}}else{try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(r){try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");e=[6,0,21];i.AllowScriptAccess="always"}catch(r){if(6==e.major)return e}try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(r){}}if(null!=i)e=i.GetVariable("$version").split(" ")[1].split(",")}return e}function g(){r.alert("安装完flashplayer之后，要记得先重新启动浏览器，再访问土豆喔",function(){n.openURL("https://get.adobe.com/flashplayer/","_blank")});return false}function y(){return f["pluginspage"]}}()});define("tui/net",[],function(e,t){t.getScript=function(e,t){var i=document.createElement("script");i.type="text/javascript";i.async=true;if(!t)t={};else if($.isFunction(t))t={callback:t};if(t.charset)i.charset=t.charset;i.src=e;var n=document.getElementsByTagName("head")[0];var r=false;i.onload=i.onreadystatechange=function(){if(!r&&(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)){r=true;i.onload=i.onreadystatechange=null;n.removeChild(i);if(t.callback)t.callback()}};n.appendChild(i)};var i=0;t.getJSON=function(e,n,r,a){var o=e.match(/(http:|https:|)\/\/(.+?)\//);if(r)if((!a||!a.isScript)&&(!o||o[1]===window.location.host)){$.ajax({url:e,data:n,success:r,dataType:"json"});return true}a=$.extend({charset:"gbk",callback:"tuijsonp"+ ++i},a||{});if(a.random)n[a.random]=+new Date;var s=a.callbackName||"jsoncallback";n[s]=a.callback;e=[e,/\?/.test(e)?"&":"?",$.param(n)].join("");if(r)window[a.callback]=r;delete a.callback;t.getScript(e,a)};t.getRequest=function(e,t){var i=new Image;i.onload=function(){};i.src=!t?e:[e,e.match(/\?/)?"&":"?","string"==typeof t?t:$.param(t)].join("")}});define("module/ad/youku",["tui/browser","tui/event","tui/net","tui/flash","module/global","module/stat/combo-stat"],function(e,t,i,n,r,a,o,s){window.TUI=window.TUI||{};TUI.event=new t;TUI.swfobject=n.swfobject;window.uid=r.uid;window.juidStr=r.juid;$.fn.forEach=Array.prototype.forEach;TUI.event.bind("ad:loaded",function(){var e=$("#gTop .ad_banner");if(e&&$.trim(e.html()).length>0)$("#gTop .logo").addClass("mini_logo")});var l={1:"play",2:"play",3:"play",4:"play",5:"play",6:"play",11:"albumcover",300:"index",10001:"so",10002:"so",10003:"so",10004:"so"};var u={index:"101012,101385,101014,101015,101016,101027,101028,101029,101030,101031,101032,101196,101215,101312,101313,101392,101299,101626,101678",so:"101041,101042,101043,101044",play:"101192,101193,101194,101195",top:"101185,101395",rank:"279,1419840364",albumtop:"101184,101393",albumcover:"101386,101387,101388,101389,101487,101488",playlist:"101183,101394",imake:"101045,101046,101049,101050,101051,101052,101221,101459,101489,101490,101491,101641",tv:"101172,101173,101176,101177,101205,101399,101400,101426,101432,101495,101496,101497,101638",movie:"101166,101167,101170,101171,101206,101401,101402,101450,101492,101493,101494,101636",zy:"101053,101054,101057,101058,101059,101060,101203,101448,101498,101499,101500,101639",cartoon:"101082,101083,101086,101087,101088,101222,101397,101460,101501,101502,101503,101640",news:"101124,101125,101128,101129,101130,101207,101415,101451,101507,101508,101509,101623",fortune:"101110,101111,101114,101115,101116,101201,101418,101446",auto:"101034,101035,101038,101039,101040,101209,101413,101453,101510,101511,101512,101644",it:"101103,101104,101107,101108,101109,101204,101416,101449,101513,101514,101515,101629",sports:"101096,101097,101100,101101,101102,101224,101404,101462,101516,101517,101518,101631",ent:"101061,101062,101065,101066,101067,101212,101398,101456,101519,101520,101521,101635",music:"101089,101090,101093,101094,101095,101200,101445,101504,101505,101506,101547,101625",game:"101159,101160,101163,101164,101165,101208,101414,101452,101522,101523,101524,101642",fun:"101075,101076,101079,101080,101081,101211,101411,101455,101525,101526,101527,101632",fashion:"101131,101132,101135,101136,101137,101199,101419,101444,101528,101529,101530,101624",beauty:"101145,101146,101149,101150,101151,101202,101417,101447,101531,101532,101533",lady:"101152,101153,101156,101157,101158,101213,101410,101457",life:"101068,101069,101072,101073,101074,101220,101403,101458,101534,101535,101536,101646",health:"101138,101139,101142,101143,101144,101223,101405,101461,101537,101538,101539,101645",edu:"101117,101118,101121,101122,101123,101210,101412,101454,101540,101541,101542,101633",jilupian:"101647,101648,101643,101650,101649",korea:"101652,101653,101651,101655,101654"};s.getAd=function(e){e=e||{};var t=window.SUBDOMAIN||l[window.pageId]||"";var n=u[t];if(e.page)n=u[e.page];if(n||e.id){var r={p:e.id||n,site:"youku",sid:a.pvid,s:e.s||"",ct:e.ct||"",cs:e.cs||"",k:e.k||""};i.getScript("//html.atm.youku.com/html?"+$.param(r),{charset:"gbk"})}};s.init=function(t){if(e.iOS){var i=$(".seed, .s .seedplayerbox");var n="//zone.tudou.com/tudougroovin/";var r="//i1.tdimg.com/b/20130422/c449.jpg";i.css({width:"auto",height:"auto",padding:"12px 14px"});i.html('<a href="'+n+'" target="_blank"><img width="285" height="260" style="display:block;margin:0 auto" src="'+r+'" /></a>').slideDown()}s.getAd(t)}});define("module/stat/iwt",[],function(e,t){_iwt_no_flash=window._iwt_no_flash||0;var i="UA-youku-000001";!function(e,t,n){var r=false,a=!-[1],o="//irs01.com/irt?_iwt_id=",s="//irs01.net/MTFlashStore.swf#",l="//irs01.com/_iwt.gif",u="_iwt_id",d="_iwt_cid",c="",f="",p="",h=t.getElementsByTagName("head")[0],m={available:false,guid:function(){return["MT",(+new Date+v++).toString(36),(1e18*Math.random()).toString(36)].join("").slice(0,16).toUpperCase()},get:function(e,t){return m._sendFlashMsg(t,"jGetItem",e)},set:function(e,t,i){return m._sendFlashMsg(i,"jSetItem",e,t)},clear:function(e,t){return m._sendFlashMsg(t,"jClearItem",e)},clearAll:function(e){return m._sendFlashMsg(e,"jClearAllItems")},_sendFlashMsg:function(t,i,n,r){t=t||x;var a=m.guid();e[a]=t;if(w&&w[i])switch(arguments.length){case 2:w[i](a);break;case 3:w[i](n,a);break;case 4:w[i](n,r,a)}},initSWF:function(e,t){if(!m.available)return t&&t();if(m.inited)return e&&setTimeout(e,0);e&&g.push(e);t&&y.push(t)}},v=1,g=[],y=[],_="",b,w,k,E=t.createElement("DIV"),T=m.guid();function x(){}function A(t){if(r)if(e.console&&e.console.log)e.console.log("MTFlashStore:"+t)}if(!e._iwt_no_flash){try{b=e.navigator.plugins["Shockwave Flash"]||e.ActiveXObject;_=b.description||function(){return new b("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}()}catch(C){}_=(_.match(/\d+/g)||[0])[0];if(_<9)m.available=false;else{m.available=true;e[T]=function(t,i){switch(t){case"onecall":if(!e[i])return;e[i].apply(e,[].slice.call(arguments,2));delete e[i];break;case"error":m.available=false;while(k=y.shift())k();A(i);break;case"load":A("Flash load success!");m.inited=true;m.available=true;while(k=g.shift())setTimeout(k,0)}};function S(){E.setAttribute("style","display:block;clear:both;float:none;position:absolute;right:0;bottom:0;border:none;");if(t.body.firstChild)t.body.insertBefore(E,t.body.firstChild);else t.body.appendChild(E);E.innerHTML='<object id="'+m.guid()+(a?' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" ':"")+'" data="'+s+'" type="application/x-shockwave-flash" '+' width="10" height="10" style="position:absolute;right:0;bottom:0;border:none;" >'+'<param name="movie" value="'+s+'" />'+'<param name="wmode" value="transparent" />'+'<param name="version" value="10" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="flashvars" value="jsproxyfunction='+T+'" />'+"</object>";w=E.firstChild;m.swf=w}var L=setInterval(function(){if(t.body){S();clearInterval(L)}},100)}}var P={track:function(){if(!m.available){if(""!=this._getQueryStrByName(d))p=o+"&_iwt_cid="+this._getQueryStrByName(d)+"&_iwt_UA="+this._getUAId();else p=o+"&_iwt_UA="+this._getUAId();M(p,function(e){var t=e;c=e})}else{m.initSWF(O);setTimeout(function(){if(!m.inited){m.available=false;e[T]=x;P.track()}},3e3)}},record_video_api:function(e,t,i,n){if("0"==n+""){f=this._getHashId();this._feedBack_video(e,t,i,n);return}this._feedBack_video(e,t,i,n)},_feedBack_video:function(e,t,i,n){var r=["ta="+n,"eid="+f,"pt="+encodeURIComponent(document.title),"vid="+e,"du="+t,"la="+i,"_iwt_id="+c,"_iwt_UA="+this._getUAId(),"r="+(new Date).getTime()].join("&");var a=l+"?"+r;this._img=new Image;this._img.src=a},_getHashId:function(){var e=location.href,t=(new Date).valueOf(),i=navigator.userAgent,n="";n=this._md5([location.host,e,i,t,Math.random()].join(""));return n},_getUAId:function(){if("undefined"==typeof i)return"";return i},_getQueryStrByName:function(e){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]+)","i"));if(null==t||t.length<1)return"";return t[1]},_getCookie:function(e){var t,i,n,r=document.cookie.split(";");for(t=0;t<r.length;t++){i=r[t].substr(0,r[t].indexOf("="));n=r[t].substr(r[t].indexOf("=")+1);i=i.replace(/^\s+|\s+$/g,"");if(i==e)return unescape(n)}},getReferrer:function(){var e="";try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(i){e=""}}if(""==e)e=document.referrer;return e},_md5:function(e){function t(e,t){return e<<t|e>>>32-t}function i(e,t){var i,n,r,a,o;r=2147483648&e;a=2147483648&t;i=1073741824&e;n=1073741824&t;o=(1073741823&e)+(1073741823&t);if(i&n)return 2147483648^o^r^a;if(i|n)if(1073741824&o)return 3221225472^o^r^a;else return 1073741824^o^r^a;else return o^r^a}function n(e,t,i){return e&t|~e&i}function r(e,t,i){return e&i|t&~i}function a(e,t,i){return e^t^i}function o(e,t,i){return t^(e|~i)}function s(e,r,a,o,s,l,u){e=i(e,i(i(n(r,a,o),s),u));return i(t(e,l),r)}function l(e,n,a,o,s,l,u){e=i(e,i(i(r(n,a,o),s),u));return i(t(e,l),n)}function u(e,n,r,o,s,l,u){e=i(e,i(i(a(n,r,o),s),u));return i(t(e,l),n)}function d(e,n,r,a,s,l,u){e=i(e,i(i(o(n,r,a),s),u));return i(t(e,l),n)}function c(e){var t;var i=e.length;var n=i+8;var r=(n-n%64)/64;var a=16*(r+1);var o=Array(a-1);var s=0;var l=0;while(l<i){t=(l-l%4)/4;s=8*(l%4);o[t]=o[t]|e.charCodeAt(l)<<s;l++}t=(l-l%4)/4;s=8*(l%4);o[t]=o[t]|128<<s;o[a-2]=i<<3;o[a-1]=i>>>29;return o}function f(e){var t="",i="",n,r;for(r=0;r<=3;r++){n=255&e>>>8*r;i="0"+n.toString(16);t+=i.substr(i.length-2,2)}return t}function p(e){e=e.replace(/\r\n/g,"\n");var t="";for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);if(n<128)t+=String.fromCharCode(n);else if(n>127&&n<2048){t+=String.fromCharCode(192|n>>6);t+=String.fromCharCode(128|63&n)}else{t+=String.fromCharCode(224|n>>12);t+=String.fromCharCode(128|63&n>>6);t+=String.fromCharCode(128|63&n)}}return t}var h=Array();var m,v,g,y,_,b,w,k,E;var T=7,x=12,A=17,C=22;var S=5,L=9,P=14,I=20;var D=4,R=11,O=16,M=23;var N=6,U=10,F=15,j=21;e=p(e);h=c(e);b=1732584193;w=4023233417;k=2562383102;E=271733878;for(m=0;m<h.length;m+=16){v=b;g=w;y=k;_=E;b=s(b,w,k,E,h[m+0],T,3614090360);E=s(E,b,w,k,h[m+1],x,3905402710);k=s(k,E,b,w,h[m+2],A,606105819);w=s(w,k,E,b,h[m+3],C,3250441966);b=s(b,w,k,E,h[m+4],T,4118548399);E=s(E,b,w,k,h[m+5],x,1200080426);k=s(k,E,b,w,h[m+6],A,2821735955);w=s(w,k,E,b,h[m+7],C,4249261313);b=s(b,w,k,E,h[m+8],T,1770035416);E=s(E,b,w,k,h[m+9],x,2336552879);k=s(k,E,b,w,h[m+10],A,4294925233);w=s(w,k,E,b,h[m+11],C,2304563134);b=s(b,w,k,E,h[m+12],T,1804603682);E=s(E,b,w,k,h[m+13],x,4254626195);k=s(k,E,b,w,h[m+14],A,2792965006);w=s(w,k,E,b,h[m+15],C,1236535329);b=l(b,w,k,E,h[m+1],S,4129170786);E=l(E,b,w,k,h[m+6],L,3225465664);k=l(k,E,b,w,h[m+11],P,643717713);w=l(w,k,E,b,h[m+0],I,3921069994);b=l(b,w,k,E,h[m+5],S,3593408605);E=l(E,b,w,k,h[m+10],L,38016083);k=l(k,E,b,w,h[m+15],P,3634488961);w=l(w,k,E,b,h[m+4],I,3889429448);b=l(b,w,k,E,h[m+9],S,568446438);E=l(E,b,w,k,h[m+14],L,3275163606);k=l(k,E,b,w,h[m+3],P,4107603335);w=l(w,k,E,b,h[m+8],I,1163531501);b=l(b,w,k,E,h[m+13],S,2850285829);E=l(E,b,w,k,h[m+2],L,4243563512);k=l(k,E,b,w,h[m+7],P,1735328473);w=l(w,k,E,b,h[m+12],I,2368359562);b=u(b,w,k,E,h[m+5],D,4294588738);E=u(E,b,w,k,h[m+8],R,2272392833);k=u(k,E,b,w,h[m+11],O,1839030562);w=u(w,k,E,b,h[m+14],M,4259657740);b=u(b,w,k,E,h[m+1],D,2763975236);E=u(E,b,w,k,h[m+4],R,1272893353);k=u(k,E,b,w,h[m+7],O,4139469664);w=u(w,k,E,b,h[m+10],M,3200236656);b=u(b,w,k,E,h[m+13],D,681279174);E=u(E,b,w,k,h[m+0],R,3936430074);k=u(k,E,b,w,h[m+3],O,3572445317);w=u(w,k,E,b,h[m+6],M,76029189);b=u(b,w,k,E,h[m+9],D,3654602809);E=u(E,b,w,k,h[m+12],R,3873151461);k=u(k,E,b,w,h[m+15],O,530742520);w=u(w,k,E,b,h[m+2],M,3299628645);b=d(b,w,k,E,h[m+0],N,4096336452);E=d(E,b,w,k,h[m+7],U,1126891415);k=d(k,E,b,w,h[m+14],F,2878612391);w=d(w,k,E,b,h[m+5],j,4237533241);b=d(b,w,k,E,h[m+12],N,1700485571);E=d(E,b,w,k,h[m+3],U,2399980690);k=d(k,E,b,w,h[m+10],F,4293915773);w=d(w,k,E,b,h[m+1],j,2240044497);b=d(b,w,k,E,h[m+8],N,1873313359);E=d(E,b,w,k,h[m+15],U,4264355552);k=d(k,E,b,w,h[m+6],F,2734768916);w=d(w,k,E,b,h[m+13],j,1309151649);b=d(b,w,k,E,h[m+4],N,4149444226);E=d(E,b,w,k,h[m+11],U,3174756917);k=d(k,E,b,w,h[m+2],F,718787259);w=d(w,k,E,b,h[m+9],j,3951481745);b=i(b,v);w=i(w,g);k=i(k,y);E=i(E,_)}var B=f(b)+f(w)+f(k)+f(E);return B.toLowerCase()}},I,D=false,R=false;function O(){m.get(u,function(e){if(!e){if(""!=P._getQueryStrByName(d))p=o+"&_iwt_cid="+P._getQueryStrByName(d)+"&_iwt_UA="+P._getUAId();else p=o+"&_iwt_UA="+P._getUAId();M(p,function(e){m.set(u,e);c=e})}else{if(""!=P._getQueryStrByName(d))p=o+e+"&_iwt_cid="+P._getQueryStrByName(d)+"&_iwt_UA="+P._getUAId();else p=o+e+"&_iwt_UA="+P._getUAId();M(p,function(e){m.set(u,e);c=e})}})}function M(i,r){var a=t.createElement("script"),o=m.guid();e[o]=function(){try{r.apply(e,arguments);h.removeChild(a)}catch(t){}e[o]=n};a.setAttribute("type","text/javascript");a.setAttribute("charset","utf-8");var s=i+"&jsonp="+o+"&";if("undefined"==typeof _iwt_p1)s+="_iwt_p1=&";else s=s+"_iwt_p1="+_iwt_p1+"&";if("undefined"==typeof _iwt_p2)s+="_iwt_p2=&";else s=s+"_iwt_p2="+_iwt_p2+"&";
if("undefined"==typeof _iwt_p3)s+="_iwt_p3=&";else s=s+"_iwt_p3="+_iwt_p3+"&";if("undefined"!=typeof _iwt_no_referrer&&!_iwt_no_referrer){var l=P.getReferrer();if(""!=l)s=s+"ref="+encodeURIComponent(l)+"&"}a.setAttribute("src",s);if(h.firstChild)h.insertBefore(a,h.firstChild);else h.appendChild(a)}e._iwt=P;P.FC=m}(window,document);return _iwt});define("module/stat/comscore",["module/global"],function(e,t,i){var n={beacon:function(e){var t=1.7,i=document,n=i.location,r=512,a=function(e,t){if(null==e)return"";e=(encodeURIComponent||escape)(e);if(t)e=e.substr(0,t);return e},o=["https:"==n.protocol?"https://sb":"http://b",".scorecardresearch.com/b?","c1=",a(e.c1),"&c2=",a(e.c2),"&rn=",Math.random(),"&c7=",a(n.href,r),"&c3=",a(e.c3),"&c4=",a(e.c4,r),"&c5=",a(e.c5),"&c6=",a(e.c6),"&c10=",a(e.c10),"&c15=",a(e.c15),"&c16=",a(e.c16),"&c8=",a(i.title),"&c9=",a(i.referrer,r),"&cv=",t,e.r?"&r="+a(e.r,r):""].join("");o=o.length>2080?o.substr(0,2075)+"&ct=1":o;var s=new Image;s.onload=function(){};s.src=o;return o},send:function(){n.beacon({c1:2,c2:6035715,c3:window.config&&config.item&&config.item.cid?config.item.cid:"",c4:window.location.href,c5:"",c6:window.comscore_c6||"",c10:e.juid||0,c11:e.uid||0,c15:""})}};return n});define("module/stat/ck",["tui/cookie","tui/net","module/stat/common","module/global"],function(e,t,i,n,r,a){var o=screen.width;var s=screen.height;function l(e,t){return e.replace(/\/?#.*|\/$/,"")===t.replace(/\/?#.*|\/$/,"")}window.tudouClickStat=i.mix({pvid:n.pvid,getRequest:function(r){var a=$(window).width();var o=$(window).height();var s=$(document).width();var l=r.eventId;var u=r.pvid;var d=r.channelId;var c=n.uid;var f=r.screenW;var p=r.screenH;var h=a;var m=o;var v=r.pageX-r.scrollLeft-Math.round(a/2);var g=r.pageY-r.scrollTop;var y=r.pageX-Math.round(s/2);var _=r.pageY;var b=n.juid;var w=n.seid;var k=encodeURIComponent(r.positionCode||"");var E=encodeURIComponent(i.referrer||"");var T=encodeURIComponent(r.targetUrl||"");var x="";var A=r.appData;A.referhost=e("referhost")||"";if(n.uid){var C=$.trim(e("u_data")).split("_");if(C.length)C.forEach(function(e){e=e.split("|");A[e[0]]=e[1]})}$.extend(A,this.getData(l,k,r.event));var S={eid:l,pid:u,cid:window.cateStr,uid:c,juid:b,sid:w,sw:f,sh:p,bw:h,bh:m,bx:v,by:g,px:y,py:_,pc:r.positionCode||"",url:location.href,rurl:i.referrer||"",turl:r.targetUrl||"",ext:window.logExt};t.getRequest("//gm.mmstat.com/yt/preclk?"+i.param(S)+"&r="+ +new Date)},send:function(e,t,n,r){var a=this;if(!e.target)e.target=e.srcElement||document;if(null==e.pageX&&null!=e.clientX){var u=document.documentElement;var d=document.body;e.pageX=a.clientX+(u&&u.scrollLeft||d&&d.scrollLeft||0)-(u&&u.clientLeft||d&&d.clientLeft||0);e.pageY=a.clientY+(u&&u.scrollTop||d&&d.scrollTop||0)-(u&&u.clientTop||d&&d.clientTop||0)}if("undefined"==typeof e.pageX)return;var c=e.target;if(!r){c=i.getStatTarget(e.target);if(!c)return}if("A"==c.nodeName&&$(c).attr("data-openurl"))return;var f=false;var p=i.getTrueLink(c);if("A"!==c.nodeName||""===p||l(p,location.href))f=true;if("ck"==$(c).attr("data-stat-role")&&""!==p)f=false;var h=$(c).attr("data-ck");if(h)$.each(h.split("&"),function(e,i){var n=i.split("=");if(2!==n.length)return;t[n[0]]=n[1]});a.getRequest({event:e,eventId:f?2:1,pvid:a.pvid,channelId:window.cid||0,positionCode:i.getPositionCode(c),targetUrl:f?"":p,pageX:e.pageX,pageY:e.pageY,scrollLeft:$(window).scrollLeft(),scrollTop:$(window).scrollTop(),screenW:o,screenH:s,appData:t||{}});if(n)n.call(a,{isButton:f,targetUrl:p})},init:function(){var e=this;$(document.body).mousedown(function(t){e.send(t,{})})},getXpathFromPositionCode:i.getXpathFromPositionCode,getElementByXPath:i.getElementByXPath,getTrueLink:i.getTrueLink,getStatTarget:i.getStatTarget});a.tudouClickStat=tudouClickStat;a.init=function(){tudouClickStat.init()}});define("module/login/login",["module/global","tui/event","tui/cookie","tui/net","tui/chuda"],function(e,t,i,n){window.ENV_YOUKUAPI=true;var r="//r1.ykimg.com/3/111/175/75013225601050671712573010271032418363.jpg",a="#333";var o="//r1.ykimg.com/9/164/6/38361584946440735084457088428867616429.jpg",s="#fff";var l=(new Date).getHours();var u=l>=18||l<=8;var d=window.XloginEvent=new t;var c=null;function f(e){return"[object Function]"===Object.prototype.toString.call(e)}function p(e){return Array.prototype.slice.call(e)}var h=[];var m=[];n.getScript("//g.alicdn.com/static-es6/login/public/load.js",function(){window.Xlogin=new getLoginFrame({loginOrLogout:"login",callbackURL:"",mode:"popup",template:"tempA",buid:"youku",pid:"8fb8456183734a86bfc1c15a1c761cdf",themes:["35b5ff","c0e8f6"],bgThemes:"#fff url("+(u?o:r)+") no-repeat right bottom",fontColor:u?s:a,linkColor:u?s:a,padding:[30,30,30,410],loginModel:["normal","mobile"],regModel:["mobile"],isQRlogin:true,isThirdPartLogin:true,regShowType:"in",regRules:["用户协议","//mapp.youku.com/service/agreement","//mapp.youku.com/service/copyright"],qrMsg:"请使用优酷APP扫码登录",qrBu:["ykt",80,"false"],size:"normal",loginSuccess:function(){d.trigger("Xlogin:loginSuccess")}});g.login=function(e,t){var i=this;e=e||{};if("function"==$.type(e)){t=e;e={}}if(this.isLogin()){t&&t();return}this.unbind(".loginonecallback").one("login:success.loginonecallback",t);if(e.regist)window.Xlogin.buildRegDom();else window.Xlogin.buildLoginDom();return this};if(m.length){for(var e in m)g.login.apply(g,e);m=void 0}g.logout=function(e){if(!this.isLogin())return this;var t=new getLoginFrame({loginOrLogout:"logout",buid:"youku",pid:"8fb8456183734a86bfc1c15a1c761cdf",logoutSuccess:function(){$(document).trigger("logout").trigger("logchange");window.location.reload()}});return this};if(h.length){for(var e in h)g.logout.apply(g,e);h=void 0}});$.ajax({url:"//cmstool.youku.com/cms/tool/pub/get_putdata.json?securemode=2&callback=?",type:"get",data:{client:"pc"},dataType:"jsonp",success:function(e){if(0==e.e.code){if(e.data.loginpic.daytimepic)r=e.data.loginpic.daytimepic;if(e.data.loginpic.eveningpic)o=e.data.loginpic.eveningpic;v()}}});var v=function(){var e=document.getElementsByTagName("head")[0]||document.body;var t=document.createElement("style");t.type="text/css";e.appendChild(t);var i="div.YT-loginWrap{ background: url("+(u?o:r)+") no-repeat right bottom !important; }";if(t.styleSheet)t.styleSheet.cssText=i;else t.innerHTML=i};var g=$.extend(new t,{init:function(){this.checkLogin()},isLogin:function(){var e=decodeURIComponent(i("P_gck")||"").split("|")[1];return e&&"NA"!==e},checkLogin:function(e){var t="//cmstool.youku.com/cms/player/userinfo/user_info?specialTest=test";var r={callbackName:"callback",charset:"utf-8"};var a={client:"pc"};var o,s=this;n.getJSON(t,a,function(t){if(0==t.error){o=true;c=t.data}else{o=false;i("P_gck",0,{expires:-1,domain:"youku.com",path:"/"})}if(f(e))f(e)&&e(o,c);else s.trigger("checklogin",[o,c])},r)},uid:function(){var e=this.getUserInfo()||{};return e.uid||0},ucode:function(){var e=this.getUserInfo()||{};return e.encodeUid||0},getUserInfo:function(e){var t=c||{};if(e)return t[e]||0;else return t},getUserImg:function(){var e=this;var t="//lv.youku.com/api/grade/get_uinfo";var i={callbackName:"callback",charset:"utf-8"};n.getJSON(t,{},function(t){if(0==t.errno){e.user_image=t.data.user_image;e.is_vip=t.data.is_vip;e.trigger("getinfo:success")}},i)},yktk:function(){return""},guid:function(){return i("__ysuid")},logout:function(){h.push(p(arguments));return this},login:function(){m.push(p(arguments));return this}});g.init();d.bind("Xlogin:loginSuccess",function(){Xlogin.closeFrame();g.trigger("login:success");$(document).trigger("login").trigger("logchange")});return g});try{if(!/\/\/(js|css|static)\.(tudouui|youku|ykimg)\.com\//.test(require.rootUrl))document.write("<scri"+'pt charset="utf-8" src="'+require.rootUrl+"/dist/js/autodomain.js?t="+Date.now()+'.js"></s'+"cript>")}catch(e){}define("g",["module/global","module/login/login","module/stat/common","module/stat/ck","module/stat/comscore","module/stat/iwt","module/ad/youku","lib/json2","tui/chuda"],function(e,t,i,n,r,a,o,s,l,u,d){e.uid=t.uid();$(document).bind("logchange",function(){e.uid=t.uid()});d.sendPv=function(){a.track();r.send()};d.init=function(e){if(!e)e={};t.one("checklogin",function(){d.sendPv();n.init();o.init(e.ad)})}});require(["g"],function(){})}(window.jQuery,window.oz.require,window.oz.define);;